<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>gesehen — b3nn3t</title>
  <meta name="description" content="gesehen — b3nn3t" />
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="styles_nav_arrows.css" />
  <link rel="stylesheet" href="swipe-helper.css" />

  <style>
    :root{--frame-pad:clamp(18px,3vw,28px)}
    .main{
      background:rgba(255,255,255,.32);
      backdrop-filter:blur(2px);
      border-radius:12px;
      padding:var(--frame-pad);
      margin-bottom: clamp(20px, 4vh, 40px);
    }
    .grid-seen{
      display:flex;
      flex-wrap:wrap;
      gap:14px;
    }
    .card{
      flex:0 1 280px;
      max-width:280px;
      cursor:pointer;
      position:relative;
    }
    .thumb{
      width:100%;
      aspect-ratio:16/9;
      border-radius:12px;
      object-fit:cover;
      background:#000;
      margin-bottom:8px;
    }
    .play-label{
      display:block;
      font-weight:600;
      font-size:.95rem;
      margin-top:4px;
    }
    small{display:block;margin-top:2px;font-size:.85rem;}
  </style>
</head>
<body>
  <main class="main">
    <div class="scroll-panel">
      <h1>gesehen</h1>
      <p>schon mal reingeschaut</p>

      <section class="grid grid-seen" aria-label="Videos">
        <!-- YouTube -->
        <div class="card" id="yt1" data-embed-src="https://www.youtube.com/embed/ZSaj_FuqPN8">
          ▶︎<small>YouTube</small>
        </div>
        <div class="card" id="yt2" data-embed-src="https://www.youtube.com/embed/DMNl40Tip1w">
          ▶︎<small>YouTube</small>
        </div>
        <div class="card" id="yt3" data-embed-src="https://www.youtube.com/embed/K5pKG0Smdfc">
          ▶︎<small>YouTube</small>
        </div>
        <div class="card" id="yt4" data-embed-src="https://www.youtube.com/embed/4I9vlcGvFGQ">
          ▶︎<small>YouTube</small>
        </div>
        <div class="card" id="yt5" data-embed-src="https://www.youtube.com/embed/w0pNdnlb96M">
          ▶︎<small>YouTube</small>
        </div>
        <div class="card" id="yt6" data-embed-src="https://www.youtube.com/embed/rV1U891RKLo">
          ▶︎<small>YouTube</small>
        </div>
        <div class="card" id="yt7" data-embed-src="https://www.youtube.com/embed/fq8zhAQMam0">
          ▶︎<small>YouTube</small>
        </div>
      </section>
    </div>
  </main>

  <!-- YouTube Thumbnails -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    try {
      const map = {
        yt1: { file: 'assets/reel1.avif', id: 'ZSaj_FuqPN8' },
        yt2: { file: 'assets/reel2.avif', id: 'DMNl40Tip1w' },
        yt3: { file: 'assets/reel3.avif', id: 'K5pKG0Smdfc' },
        yt4: { file: 'assets/reel4.jpg',  id: '4I9vlcGvFGQ' },
        yt5: { file: 'assets/reel5.avif', id: 'w0pNdnlb96M' },
        yt6: { file: 'assets/reel6.avif', id: 'rV1U891RKLo' },
        yt7: { file: 'assets/reel7.avif', id: 'fq8zhAQMam0' }
      };
      Object.entries(map).forEach(([id, cfg]) => {
        const card = document.getElementById(id);
        if (!card || card.querySelector('img.thumb')) return;
        const img = new Image();
        img.className = 'thumb';
        img.src = cfg.file;
        img.loading = 'lazy';
        img.onerror = () => img.src = `https://img.youtube.com/vi/${cfg.id}/hqdefault.jpg`;
        card.insertBefore(img, card.firstChild);
      });
    } catch (err) {
      console.error('YT thumbs error:', err);
    }
  });
  </script>

  <!-- YouTube Titel automatisch (oEmbed, korrigierte Version) -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    try {
      window.YT_TITLES = window.YT_TITLES || {};
      const ytCards = Array.from(document.querySelectorAll('.card[data-embed-src*="youtube.com/embed/"]'));
      function extractId(src){
        const m = (src||'').match(/\/embed\/([a-zA-Z0-9_-]{6,})/);
        return m ? m[1] : null;
      }

      ytCards.forEach((card) => {
        const src = card.getAttribute('data-embed-src');
        const id  = extractId(src);
        if (!id) return;

        const url = `https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${id}&format=json`;
        fetch(url, { mode: 'cors' })
          .then(res => res.ok ? res.json() : Promise.reject('oEmbed failed'))
          .then(data => {
            const title = (data && data.title) ? data.title : '';
            if (!title) return;
            window.YT_TITLES[id] = title;

            const thumb = card.querySelector('img.thumb');
            if (thumb) {
              let n = thumb.nextSibling;
              while (n) { const next = n.nextSibling; card.removeChild(n); n = next; }
            } else {
              card.textContent = '';
            }

            const label = document.createElement('span');
            label.className = 'play-label';
            label.textContent = `▶︎ ${title}`;
            card.appendChild(label);

            const small = document.createElement('small');
            small.textContent = 'YouTube';
            card.appendChild(small);
          })
          .catch(() => {/* ignorieren, wenn oEmbed blockiert */});
      });
    } catch (err) {
      console.error('YT oEmbed error:', err);
    }
  });
  </script>
</body>
</html>
