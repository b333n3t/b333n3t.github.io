  <footer>
    © b3nn3t · <a href="impressum.html">Impressum / Datenschutz</a>
  </footer>

  <!-- FIX: Gefixte script.js einbinden -->
  <script src="script.js?v=2" defer></script>

  <!-- Swipe-Navigation bleibt -->
  <script src="swipe-nav.js?v=12" defer></script>

  <!-- Öffnet Video direkt unter der Karte (volle Breite) + Schließen -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    try {
      const cards = document.querySelectorAll('.card[data-embed-src]');
      function closeAllVideos() {
        document.querySelectorAll('.video-row').forEach(row => row.remove());
      }
      cards.forEach(card => {
        card.addEventListener('click', () => {
          try {
            const next = card.nextElementSibling;
            if (next && next.classList.contains('video-row')) { next.remove(); return; }
            closeAllVideos();
            const row = document.createElement('div');
            row.className = 'video-row';
            const wrapper = document.createElement('div');
            wrapper.className = 'video-wrapper';
            const closeBtn = document.createElement('button');
            closeBtn.textContent = '×';
            closeBtn.className = 'video-close';
            closeBtn.addEventListener('click', (e) => { e.stopPropagation(); row.remove(); });
            const src = card.getAttribute('data-embed-src') || '';
            if (src.toLowerCase().endsWith('.mp4')) {
              const video = document.createElement('video');
              video.src = src;
              video.controls = true;
              video.autoplay = true;
              video.playsInline = true;
              video.style.width = '100%';
              video.style.height = '100%';
              wrapper.appendChild(closeBtn);
              wrapper.appendChild(video);
            } else {
              const iframe = document.createElement('iframe');
              iframe.src = src;
              iframe.allowFullscreen = true;
              iframe.loading = 'lazy';
              iframe.title = 'Video';
              const m = src.match(/\/embed\/([a-zA-Z0-9_-]{6,})/);
              if (m && window.YT_TITLES && window.YT_TITLES[m[1]]) {
                iframe.title = window.YT_TITLES[m[1]];
              }
              wrapper.appendChild(closeBtn);
              wrapper.appendChild(iframe);
            }
            row.appendChild(wrapper);
            card.parentNode.insertBefore(row, card.nextSibling);
            card.scrollIntoView({ behavior: 'smooth', block: 'center' });
          } catch (err) {
            console.error('Video open error:', err);
          }
        });
      });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeAllVideos(); });
    } catch (err) {
      console.error('Init error:', err);
    }
  });
  </script>
  <!-- (restliche Inline-Skripte: Instagram, YouTube, oEmbed, Intro ...) -->
</body>
</html>
