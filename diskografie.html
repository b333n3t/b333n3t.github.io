<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>diskografie — b3nn3t</title>
<meta content="diskografie — b3nn3t" name="description"/>
<link href="favicon.svg" rel="icon" type="image/svg+xml"/>

<!-- Haupt-Styles -->
<link href="styles.css" rel="stylesheet"/>
<link href="styles_nav_arrows.css" rel="stylesheet"/>
<link href="swipe-helper.css" rel="stylesheet"/>

<!-- ===== Layout-Variablen (nur hier feinjustieren) ===== -->
<style>
  :root{
    --header-height: 56px;   /* angenäherte Höhe der Top-Zeile (b3nn3t) */
    --bottom-gap: 0px;       /* kein extra Außenabstand unten nötig */
    --title-top: 28px;       /* Titel etwas tiefer (wie Beispielseite) */
    --title-left: 28px;      /* Titel etwas weiter links */
    --title-space: 150px;    /* Platz unter Titel bis zum Scrollbereich */
    --title-size: 2.6rem;    /* gleiche Größe wie deine Beispiel-Überschrift */
  }

  /* WICHTIG: Außen-Scrolling komplett aus, nur innen scrollen */
  html, body { height:100%; overflow:hidden; }
  body { margin:0; }

  /* Grauer Container */
  .main{
    position: relative;
    height: calc(100vh - var(--header-height)); /* bleibt sicher im Viewport */
    margin-bottom: var(--bottom-gap);
    background: rgba(255,255,255,.32);
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    border-radius: 12px;
  }

  /* Fixierter Titelblock – NICHT Teil des Scrollbereichs */
  .title-fixed{
    position: absolute;
    top: var(--title-top);
    left: var(--title-left);
    z-index: 50;
  }
  .title-fixed h1{
    margin: 0;
    font-size: var(--title-size);
    font-weight: 800;
    color:#111;
    line-height:1.1;
    letter-spacing: .2px;
  }
  .title-fixed p{
    margin: 8px 0 0 0;
    font-size: 1.05rem;
    color:#333;
  }

  /* Nur die Sektionen scrollen – Höhe exakt in den Container eingepasst */
  .scroll-panel{
    position: relative;
    /* Höhe = verbleibender Raum im grauen Container abzüglich Titelbereich */
    height: calc(100% - var(--title-space));
    max-height: calc(100% - var(--title-space));
    overflow: auto;
    -webkit-overflow-scrolling: touch;

    /* Optik & Innenabstände */
    color:#111; border-radius:12px;
    box-shadow:0 2px 10px rgba(0,0,0,0.08);
    padding: 1.25rem 1rem;
    margin: 0;
    width:min(1100px,95%);
    scrollbar-width:none; -ms-overflow-style:none;
  }
  .scroll-panel::-webkit-scrollbar{ display:none; }

  /* Karten & Grids */
  :root{ --panel-bg: rgba(255,255,255,0.92); }
  .panel-block{ background:var(--panel-bg); border-radius:12px; padding:1rem 1rem; margin-bottom:1rem; }
  .disco-grid{
    display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
    gap:1rem; margin:0 0 2rem; align-items:start; background:transparent;
  }
  .release{
    border:1px solid #ddd; border-radius:12px; padding:12px;
    box-shadow:0 1px 3px rgba(0,0,0,.06); background:#fff;
  }
  .release img{ width:100%; height:220px; object-fit:cover; border-radius:8px; background:#f2f2f2; }
  .release .meta{ font-size:.9rem; color:#444; margin-top:.5rem }
  .release .title{ font-weight:600 }

  /* Akkordeon-Trigger */
  .panel-block h3[role="button"]{
    display:flex; align-items:center; justify-content:space-between;
    font-weight:700; font-size:1rem; line-height:1.2; padding:.9rem 1rem; margin:0 0 .8rem 0;
    background:rgba(255,255,255,.92); border:1px solid rgba(0,0,0,.08); border-radius:12px;
    box-shadow:0 2px 8px rgba(0,0,0,.06); cursor:pointer; color:#111;
  }
  .panel-block h3[role="button"]::after{
    content:"▾"; opacity:.75; margin-left:.75rem; transition:transform .2s ease, opacity .2s ease; font-weight:400;
  }
  .panel-block h3[role="button"][aria-expanded="true"]::after{ transform:rotate(180deg); }
  .panel-block h3[role="button"]:hover{ box-shadow:0 4px 14px rgba(0,0,0,.08); }
  .panel-block h3[role="button"]:active{ transform:translateY(1px); }
  .panel-block h3[role="button"]:focus-visible{ outline:none; box-shadow:0 0 0 3px rgba(17,17,17,.2); }
  .disco-grid[hidden]{ display:none; }

  /* Badges (falls weiterhin ausgeblendet gewünscht) */
  .badge{ display:none !important; }
</style>
</head>

<body>
<header class="header">
  <a aria-label="b3nn3t Home" class="brand" href="index.html">
    <img alt="" src="favicon.svg"/><strong>b3nn3t</strong>
  </a>
</header>

<!-- Pfeile -->
<a aria-label="Vorherige Seite" class="nav-arrow left" href="ueber-mich.html">←</a>
<a aria-label="Nächste Seite" class="nav-arrow right" href="kontakt.html">→</a>

<main class="main">
  <!-- Fixierter Titel (scrollt NICHT mit) -->
  <div class="title-fixed">
    <h1>diskografie</h1>
    <p>meine releases & kollabos</p>
  </div>

  <!-- Nur dieser Bereich scrollt -->
  <div class="scroll-panel">

    <!-- Alben -->
    <section>
      <div class="panel-block"><h3>Alben</h3></div>
      <div class="disco-grid">
        <article class="release">
          <img alt="Cover: traeum ich??" class="cover" data-spotify="https://open.spotify.com/intl-de/album/0om0qmIgGQdOfVaNIKUNmz" loading="lazy"/>
          <div class="title"><a href="https://open.spotify.com/intl-de/album/0om0qmIgGQdOfVaNIKUNmz" target="_blank" rel="noopener">traeum ich??</a><span class="badge">Album</span></div>
          <div class="meta">2025</div>
          <div class="toggle"><button type="button" onclick="toggleTracklist('tracklist-1')">Mehr</button></div>
          <div class="tracklist" id="tracklist-1"><iframe allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" src="https://open.spotify.com/embed/album/0om0qmIgGQdOfVaNIKUNmz"></iframe></div>
        </article>

        <article class="release">
          <img alt="Cover: laut nachgedacht" class="cover" data-spotify="https://open.spotify.com/album/4n2ziE3adhDkSf4WPy7c1l" loading="lazy"/>
          <div class="title"><a href="https://open.spotify.com/album/4n2ziE3adhDkSf4WPy7c1l" target="_blank" rel="noopener">laut nachgedacht</a><span class="badge">Album</span></div>
          <div class="meta">2024</div>
          <div class="toggle"><button type="button" onclick="toggleTracklist('tracklist-2')">Mehr</button></div>
          <div class="tracklist" id="tracklist-2"><iframe allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" src="https://open.spotify.com/embed/album/4n2ziE3adhDkSf4WPy7c1l"></iframe></div>
        </article>
      </div>
    </section>

    <!-- EPs -->
    <section>
      <div class="panel-block"><h3>EPs</h3></div>
      <div class="disco-grid">
        <article class="release">
          <img alt="Cover: st3rne☆*" class="cover" data-spotify="https://open.spotify.com/album/3d7F0wnumMBtTKar2t2cgI" loading="lazy"/>
          <div class="title"><a href="https://open.spotify.com/album/3d7F0wnumMBtTKar2t2cgI" target="_blank" rel="noopener">st3rne☆*</a><span class="badge">EP</span></div>
          <div class="meta">2025</div>
          <div class="toggle"><button type="button" onclick="toggleTracklist('tracklist-3')">Mehr</button></div>
          <div class="tracklist" id="tracklist-3"><iframe allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" src="https://open.spotify.com/embed/album/3d7F0wnumMBtTKar2t2cgI"></iframe></div>
        </article>

        <article class="release">
          <img alt="Cover: hundert grad" class="cover" data-spotify="https://open.spotify.com/album/363ITnyvTfkJ4p5yu3K0Bz" loading="lazy"/>
          <div class="title"><a href="https://open.spotify.com/album/363ITnyvTfkJ4p5yu3K0Bz" target="_blank" rel="noopener">hundert grad</a><span class="badge">EP</span></div>
          <div class="meta">2024</div>
          <div class="toggle"><button type="button" onclick="toggleTracklist('tracklist-4')">Mehr</button></div>
          <div class="tracklist" id="tracklist-4"><iframe allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" src="https://open.spotify.com/embed/album/363ITnyvTfkJ4p5yu3K0Bz"></iframe></div>
        </article>

        <article class="release">
          <img alt="Cover: gesund/krank" class="cover" data-spotify="https://open.spotify.com/album/63meNbUfVkmao1NCuiplaf" loading="lazy"/>
          <div class="title"><a href="https://open.spotify.com/album/63meNbUfVkmao1NCuiplaf" target="_blank" rel="noopener">gesund/krank</a><span class="badge">EP</span></div>
          <div class="meta">2023</div>
          <div class="toggle"><button type="button" onclick="toggleTracklist('tracklist-5')">Mehr</button></div>
          <div class="tracklist" id="tracklist-5"><iframe allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" src="https://open.spotify.com/embed/album/63meNbUfVkmao1NCuiplaf"></iframe></div>
        </article>
      </div>
    </section>

    <!-- Singles (inkl. Kollabos) -->
    <section>
      <div class="panel-block"><h3>Singles (inkl. Kollabos)</h3></div>
      <div class="disco-grid">
        <!-- (deine Singles, gekürzt hier – bleiben erhalten) -->
        <article class="release">
          <img alt="Cover: kreative perspektiven" class="cover" data-spotify="https://open.spotify.com/track/3Ja7f0z3lM23ieRq58FcDM" loading="lazy"/>
          <div class="title"><a href="https://open.spotify.com/track/3Ja7f0z3lM23ieRq58FcDM" target="_blank" rel="noopener">kreative perspektiven</a><span class="badge">Single</span></div>
          <div class="meta">2025</div>
        </article>
        <!-- … alle weiteren Singles wie in deiner Datei … -->
      </div>

      <div style="margin-top: 25em; color: black; text-align: center;">
        © b3nn3t · <a href="impressum.html" style="color: black; text-decoration: none;">Impressum / Datenschutz</a>
      </div>
    </section>

  </div>
</main>

<a aria-label="Zur Startseite" class="home-btn" href="index.html">Startseite</a>

<!-- Bild-Loader -->
<script>
(function () {
  const FALLBACK_SRC = 'assets/placeholder-cover.jpg';
  async function setCover(img) {
    const url = img.dataset.spotify;
    if (!url) { img.src = FALLBACK_SRC; return; }
    try {
      const res = await fetch(`https://open.spotify.com/oembed?url=${encodeURIComponent(url)}`, { mode: 'cors' });
      if (!res.ok) { img.src = FALLBACK_SRC; return; }
      const data = await res.json();
      if (data.thumbnail_url) img.src = data.thumbnail_url.replace(/&?size=\d+/, '');
      else img.src = FALLBACK_SRC;
    } catch { img.src = FALLBACK_SRC; }
  }
  function initCovers(){ document.querySelectorAll('img.cover[data-spotify]').forEach(setCover); }
  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', initCovers);
  else initCovers();
})();
</script>

<!-- Tracklist-Buttons -->
<style>
  .toggle{margin-top:.5rem}
  .toggle button{
    border:1px solid #111;border-radius:999px;padding:.35rem .7rem;font-weight:600;
    background:#111;color:#fff;cursor:pointer
  }
  .tracklist{margin-top:.6rem;display:none}
  .tracklist.open{display:block}
  .tracklist iframe{width:100%;height:352px;border:0;border-radius:8px}
</style>
<script>
  function toggleTracklist(id){
    const el = document.getElementById(id);
    if(!el) return;
    el.classList.toggle('open');
  }
</script>

<!-- Singles: fehlende „Mehr“-Buttons automatisch -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const singlesHeading = Array.from(document.querySelectorAll('main h3'))
      .find(h => h.textContent.trim().toLowerCase().startsWith('singles'));
    if (!singlesHeading) return;
    const singlesGrid = singlesHeading.closest('.panel-block')?.nextElementSibling;
    if (!singlesGrid || !singlesGrid.classList.contains('disco-grid')) return;

    let idx = 1;
    singlesGrid.querySelectorAll('.release').forEach(card => {
      const hasToggle = card.querySelector('.toggle');
      const hasTracklist = card.querySelector('.tracklist');
      if (hasToggle && hasTracklist) return;

      const url =
        card.querySelector('img.cover')?.dataset.spotify ||
        card.querySelector('.title a')?.href || '';

      let embed = '';
      if (/open\.spotify\.com/.test(url)) {
        embed = url.replace('open.spotify.com/', 'open.spotify.com/embed/');
      }

      const afterMeta = card.querySelector('.meta') || card.lastElementChild;
      const toggleWrap = document.createElement('div');
      toggleWrap.className = 'toggle';

      const id = `tracklist-s-${idx++}`;
      toggleWrap.innerHTML = `<button type="button" onclick="toggleTracklist('${id}')">Mehr</button>`;

      const panel = document.createElement('div');
      panel.className = 'tracklist';
      panel.id = id;
      panel.innerHTML = embed
        ? `<iframe allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" src="${embed}"></iframe>`
        : `<div style="padding:.6rem 0;color:#666">Keine Einbettung gefunden.</div>`;

      afterMeta.insertAdjacentElement('afterend', toggleWrap);
      toggleWrap.insertAdjacentElement('afterend', panel);
    });
  });
</script>

<!-- Akkordeon-Logik (Start: geschlossen) -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const sections = document.querySelectorAll('main section');
    sections.forEach((section, i) => {
      const heading = section.querySelector('.panel-block h3');
      const grid = section.querySelector('.disco-grid');
      if (!heading || !grid) return;

      heading.setAttribute('role', 'button');
      heading.setAttribute('tabindex', '0');

      const gridId = `cat-grid-${i+1}`;
      heading.setAttribute('aria-controls', gridId);
      heading.setAttribute('aria-expanded', 'false'); // geschlossen starten
      grid.id = gridId;
      grid.hidden = true;

      const toggle = () => {
        const isOpen = heading.getAttribute('aria-expanded') === 'true';
        heading.setAttribute('aria-expanded', String(!isOpen));
        grid.hidden = isOpen;
      };

      heading.addEventListener('click', toggle);
      heading.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggle(); }
      });
    });
  });
</script>
</body>
</html>
