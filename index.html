<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>b3nn3t – Start</title>

  <!-- Kritische Styles zuerst -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="styles_nav_arrows.css">

  <!-- Non-critical CSS: lädt asynchron -->
  <link rel="preload" href="swipe-helper.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="swipe-helper.css"></noscript>

  <!-- Hero-Bild vorladen (AVIF bevorzugt) -->
  <link
    rel="preload"
    as="image"
    href="assets/bennet_index1_1600.avif"
    imagesrcset="assets/bennet_index1_800.avif 800w, assets/bennet_index1_1200.avif 1200w, assets/bennet_index1_1600.avif 1600w"
    imagesizes="(max-width: 768px) 100vw, 768px"
    type="image/avif"
    fetchpriority="high">

  <!-- Kleine Performance-Optimierungen / Overrides -->
  <style>
    /* Teure Filter standardmäßig aus, nur aktiv wenn nötig */
    .menu-overlay,
    #page-glass .glass-fade,
    #page-glass .glass-solid {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }
    body.menu-open .menu-overlay { 
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
    }

    /* Verhindert Layout-Shift und spart Arbeit unterhalb des Folds */
    .panel-photo { 
      content-visibility: auto;
      contain-intrinsic-size: 600px 400px; /* grober Platzhalter */
    }

    /* Kleines optisches Detail beim ersten Paint */
    .scroll-cue { opacity: 0; transition: opacity .3s ease; }
    .scroll-cue.visible { opacity: 1; }
  </style>
</head>
<body>
  <div id="page-glass">
    <!-- Menü / Overlay -->
    <div class="menu-overlay" aria-hidden="true"></div>

    <!-- Header / Navigation -->
    <header class="site-header">
      <button class="menu-toggle" aria-controls="main-nav" aria-expanded="false">Menü</button>
      <nav id="main-nav" class="main-nav" hidden>
        <a class="btn" href="#work">Arbeiten</a>
        <a class="btn" href="#about">Über</a>
        <a class="btn" href="#contact">Kontakt</a>
      </nav>
    </header>

    <!-- Hero -->
    <main id="content" class="grid">
      <section class="hero panel-photo">
        <picture>
          <source type="image/avif" 
                  srcset="assets/bennet_index1_800.avif 800w, assets/bennet_index1_1200.avif 1200w, assets/bennet_index1_1600.avif 1600w">
          <source type="image/webp" 
                  srcset="assets/bennet_index1_800.webp 800w, assets/bennet_index1_1200.webp 1200w, assets/bennet_index1_1600.webp 1600w">
          <img
            src="assets/bennet_index1.jpg"
            srcset="assets/bennet_index1_800.jpg 800w, assets/bennet_index1_1200.jpg 1200w, assets/bennet_index1_1600.jpg 1600w"
            sizes="(max-width: 768px) 100vw, 768px"
            width="1600" height="1067"
            alt="b3nn3t – Bennet"
            loading="eager" fetchpriority="high" decoding="async">
        </picture>
        <div class="scroll-cue" aria-hidden="true">Scroll</div>
      </section>

      <!-- Zweites Panel (lazy) -->
      <section class="panel-photo">
        <picture>
          <source type="image/avif" 
                  srcset="assets/bennet_index2_800.avif 800w, assets/bennet_index2_1200.avif 1200w, assets/bennet_index2_1600.avif 1600w">
          <source type="image/webp" 
                  srcset="assets/bennet_index2_800.webp 800w, assets/bennet_index2_1200.webp 1200w, assets/bennet_index2_1600.webp 1600w">
          <img
            src="assets/bennet_index2.jpg"
            srcset="assets/bennet_index2_800.jpg 800w, assets/bennet_index2_1200.jpg 1200w, assets/bennet_index2_1600.jpg 1600w"
            sizes="(max-width: 768px) 100vw, 768px"
            width="1600" height="1067"
            alt="b3nn3t – Studio"
            loading="lazy" fetchpriority="low" decoding="async">
        </picture>
      </section>

      <!-- Beispiel für weitere Panels: duplizieren und Index anpassen (3,4,...) -->
      <!--
      <section class="panel-photo">
        <picture>
          <source type="image/avif" 
                  srcset="assets/bennet_index3_800.avif 800w, assets/bennet_index3_1200.avif 1200w, assets/bennet_index3_1600.avif 1600w">
          <source type="image/webp" 
                  srcset="assets/bennet_index3_800.webp 800w, assets/bennet_index3_1200.webp 1200w, assets/bennet_index3_1600.webp 1600w">
          <img
            src="assets/bennet_index3.jpg"
            srcset="assets/bennet_index3_800.jpg 800w, assets/bennet_index3_1200.jpg 1200w, assets/bennet_index3_1600.jpg 1600w"
            sizes="(max-width: 768px) 100vw, 768px"
            width="1600" height="1067"
            alt="b3nn3t – Projekt"
            loading="lazy" fetchpriority="low" decoding="async">
          </picture>
      </section>
      -->

      <!-- Call-to-Action / Links-Buttons -->
      <section id="work" class="cta">
        <a class="btn primary" href="/work">Projekte ansehen</a>
        <a class="btn" href="/contact">Kontakt aufnehmen</a>
      </section>
    </main>

    <footer class="site-footer">
      <small>&copy; <span id="year"></span> b3nn3t</small>
    </footer>
  </div>

  <!-- Skripte: nicht blockierend -->
  <script defer>
    // DOM sofort nutzbar machen (nicht auf alle Bilder warten)
    document.addEventListener('DOMContentLoaded', function () {
      document.documentElement.classList.add('ready');

      // Menü-Handling (Beispiel)
      const toggle = document.querySelector('.menu-toggle');
      const nav = document.getElementById('main-nav');
      toggle?.addEventListener('click', () => {
        const open = document.body.classList.toggle('menu-open');
        nav.hidden = !open;
        toggle.setAttribute('aria-expanded', String(open));
      });

      // Scroll-Cue früh sichtbar
      const cue = document.querySelector('.scroll-cue');
      cue?.classList.add('visible');

      // Aktuelles Jahr im Footer
      const y = document.getElementById('year');
      if (y) y.textContent = String(new Date().getFullYear());
    });
  </script>
  <script src="script.js" defer></script>
  <script src="swipe-nav.js?v=12" defer></script>
</body>
</html>
